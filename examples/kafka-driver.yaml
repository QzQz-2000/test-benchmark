name: Kafka-Throughput
driverClass: benchmark.drivers.kafka.kafka_benchmark_driver.KafkaBenchmarkDriver

replicationFactor: 1

commonConfig: |
  bootstrap.servers=localhost:9092

# =========================================================
# ğŸ§© Producer Configuration
# =========================================================
producerConfig: |
  # --- åŸºç¡€å¯é æ€§ ---
  acks=1
  linger.ms=10
  batch.size=65536                     # 64KB æ‰¹å¤„ç†ï¼ˆåŸ 104857 å¤ªå¤§æ—¶ä¼šæŒ¤å‹å†…å­˜ï¼‰
  max.in.flight.requests.per.connection=5  # æ§åˆ¶å¹¶å‘è¯·æ±‚ï¼Œé˜²æ­¢ä¹±åºå’Œç§¯å‹
  request.timeout.ms=300000
  delivery.timeout.ms=1200000

  # --- â­ æ ¸å¿ƒé˜²æ­¢ queue full é…ç½® ---
  # å¢å¤§ç¼“å†²åŒºå®¹é‡ï¼Œè®©æœ¬åœ°ç¼“å­˜æ›´å¤§
  queue.buffering.max.kbytes=262144     # 256MBï¼ˆåŸ 1GB å¤ªå¤§ï¼Œåè€Œå å†…å­˜ï¼‰
  queue.buffering.max.messages=2000000  # æœ€å¤š200ä¸‡æ¡æ¶ˆæ¯
  queue.buffering.max.ms=50             # å…è®¸ç¼“å†²50mså†flush

  # --- â­ å¤§æ¶ˆæ¯æ”¯æŒ ---
  message.max.bytes=134217728           # 128MB
  # --- å‹ç¼©ï¼ˆå¦‚éœ€çœå¸¦å®½å¯æ‰“å¼€ï¼‰---
  # compression.type=lz4

  # --- ç½‘ç»œç¼“å†²åŒº ---
  socket.send.buffer.bytes=524288
  socket.receive.buffer.bytes=524288

  # --- é‡è¯•ç­–ç•¥ ---
  retries=5
  retry.backoff.ms=500

# =========================================================
# ğŸ§© Consumer Configuration
# =========================================================
consumerConfig: |
  auto.offset.reset=earliest
  enable.auto.commit=false
  session.timeout.ms=300000
  max.poll.interval.ms=300000

  fetch.min.bytes=102400
  fetch.wait.max.ms=500
  fetch.message.max.bytes=134217728
  receive.message.max.bytes=134217728
  queued.min.messages=100000

  socket.receive.buffer.bytes=524288

# =========================================================
# ğŸ§© Topic Configuration
# =========================================================
topicConfig: |
  min.insync.replicas=1
  max.message.bytes=134217728
